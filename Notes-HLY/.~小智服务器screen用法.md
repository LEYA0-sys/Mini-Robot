# Screen 会话管理指南

## 创建新的 Screen 会话

### 1. 启动 manager-api 服务

在 `manager-api` 目录下使用：

screen -L -Logfile ~/manager_api.log -dmS manager_api mvn spring-boot:run

### 2. 启动 manager-web 服务

在 `manager-web` 目录下使用：

screen -L -Logfile ~/manager_web.log -dmS manager_web npm run serve 

### 3. 启动 xiaozhi-server 服务

在 `xiaozhi-server` 目录下使用：

screen -L -Logfile ~/xiaozhi_server.log -dmS xiaozhi_server python app.py 

## 查看 Screen 会话状态

可以通过以下命令查看是否创建并运行成功：

screen -ls

成功运行时应该显示类似这样的结果：

![image-20250801142338220](C:\Users\zy\AppData\Roaming\Typora\typora-user-images\image-20250801142338220.png)

## 连接到 Screen 会话查看日志

可以通过以下命令连接到相应的会话查看日志：

- 查看 manager-api 日志：

  screen -r manager_api

- 查看 manager-web 日志：

  screen -r manager_web

- 查看 xiaozhi-server 日志：

  screen -r xiaozhi_server

## 会话操作

### 退出日志但不结束程序

如果想要退出日志查看但不结束程序运行，可以使用：

Ctrl+A+D

### 结束程序运行

如果想要结束程序的运行，可以直接使用：z

Ctrl+C

或者使用命令删除指定的 screen 会话（your_screen_name为待删除的会话名称）：

screen -S your_screen_name -X quit

例如：

screen -S manager_api -X quit
screen -S manager_web -X quit
screen -S xiaozhi_server